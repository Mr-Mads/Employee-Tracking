<!DOCTYPE html>
<html>
<head>
    <title>Employee Tracking App</title>
</head>
<body>

    <h1>Employee Tracking</h1>

    <input type="text" id="empName" placeholder="Employee Name">
    <br><br>

    <button onclick="checkIn()">Check In</button>
    <button onclick="checkOut()">Check Out</button>

    <h3>Attendance History</h3>
    <ul id="history"></ul>

    <script>
        let checkInTime = null;

        // Load saved records when page loads
        let attendanceRecords = JSON.parse(localStorage.getItem("attendance")) || [];
        updateHistory();

        function checkIn() {
            const name = document.getElementById("empName").value;

            if (name === "") {
                alert("Please enter employee name");
                return;
            }

            checkInTime = new Date();
            alert(name + " checked in at " + checkInTime.toLocaleTimeString());
        }

        function checkOut() {
            if (!checkInTime) {
                alert("Please check in first");
                return;
            }

            const name = document.getElementById("empName").value;
            const checkOutTime = new Date();

            const diffMs = checkOutTime - checkInTime;
            const diffHrs = (diffMs / (1000 * 60 * 60)).toFixed(2);

            attendanceRecords.push({
                name: name,
                in: checkInTime.toLocaleTimeString(),
                out: checkOutTime.toLocaleTimeString(),
                hours: diffHrs
            });

            // SAVE to browser storage
            localStorage.setItem("attendance", JSON.stringify(attendanceRecords));

            updateHistory();
            checkInTime = null;
        }

        function updateHistory() {
            const list = document.getElementById("history");
            list.innerHTML = "";

            attendanceRecords.forEach(record => {
                const li = document.createElement("li");
                li.innerText =
                    record.name + " | " +
                    record.in + " â†’ " +
                    record.out + " | " +
                    record.hours + " hrs";
                list.appendChild(li);
            });
        }
    </script>

</body>
</html>
